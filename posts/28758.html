<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- 百度的html标记--><meta name="baidu-site-verification" content="codeva-bSLYjtWXtR"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>计算机网络 | myl's blog</title><meta name="author" content="myl"><meta name="copyright" content="myl"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="bilibili()     function bilibili() {       let dom = document.getElementById('BV19E411D78Q')       fetch('https://api.320.ink/api/b?id=BV19E411D78Q').then(res=>res.json()).then(data=>{">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络">
<meta property="og:url" content="http://yileman.github.io/posts/28758.html">
<meta property="og:site_name" content="myl's blog">
<meta property="og:description" content="bilibili()     function bilibili() {       let dom = document.getElementById('BV19E411D78Q')       fetch('https://api.320.ink/api/b?id=BV19E411D78Q').then(res=>res.json()).then(data=>{">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/cover/article_cover19.png">
<meta property="article:published_time" content="2024-04-18T00:00:00.000Z">
<meta property="article:modified_time" content="2024-05-07T05:44:32.443Z">
<meta property="article:author" content="myl">
<meta property="article:tag" content="基础">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/cover/article_cover19.png"><link rel="shortcut icon" href="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/touxiang.jpg"><link rel="canonical" href="http://yileman.github.io/posts/28758.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="baidu-site-verification" content="codeva-bSLYjtWXtR"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '计算机网络',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-07 13:44:32'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/modify.css"><link rel="stylesheet" href="/css/user.css"><link rel="stylesheet" href="/css/rightMenu.css"><link rel="stylesheet" href="/css/iconfont.css"><link rel="stylesheet" href="/css/mouse.css"><link rel="stylesheet" href="https://cdn1.tianli0.top/gh/zhheo/Post-Abstract-AI@0.15.2/tianli_gpt.css"><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/hexo-electric-clock@1.0.6/clock.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css">
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://unpkg.com/hexo-butterfly-tag-plugins-plus-chinese@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://unpkg.com/hexo-butterfly-tag-plugins-plus-chinese@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://unpkg.com/hexo-butterfly-tag-plugins-plus-chinese@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.1.1"></head><body><div id="loading-box"><div class="pokeball-back"></div><div class="pokeball-loading"><div class="pokeball" id="pokeball-normal"></div><div class="pokeball" id="pokeball-great"></div><div class="pokeball" id="pokeball-ultra"></div><div class="pokeball" id="pokeball-master"></div><div class="pokeball" id="pokeball-safari"></div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      //- console.log("end")
      $body.style.overflow = 'auto'

      document.getElementById('loading-box').style.transition = 'opacity 3s ease 0s'
      document.getElementById('loading-box').style.opacity = '0'
      setTimeout(function(){
        document.getElementById('loading-box').classList.add("loaded")
      }, 3000);

      //- $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.remove('loaded')
      
    }
  }

  preloader.initLoading()
  //- setTimeout(function(){preloader.endLoading();}, 3000);
  window.addEventListener('load',() => { preloader.endLoading() })
  document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/touxiang.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">23</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa fa-link"></i><span> 留言板</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/cover/article_cover19.png')"><nav id="nav"><span id="blog-info"><a href="/" title="myl's blog"><span class="site-name">myl's blog</span></a></span><div id="menus"></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa fa-link"></i><span> 留言板</span></a></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div id="randomPost"><a class="site-page social-icon search" href="javascript:;" onclick="randomPost()" title="随机访问一篇文章"><i class="fas fa-circle-notch fa-fw"></i></a></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">计算机网络</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-04-18T00:00:00.000Z" title="发表于 2024-04-18 08:00:00">2024-04-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-05-07T05:44:32.443Z" title="更新于 2024-05-07 13:44:32">2024-05-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/study/">study</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="计算机网络"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><div class="top-img" style="background-image: url('https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/cover/article_cover19.png');"></div><article class="post-content" id="article-container">
  <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV19E411D78Q/" class="bilibili_box" id="BV19E411D78Q"></a>

  <script>
    bilibili()
    function bilibili() {
      let dom = document.getElementById('BV19E411D78Q')
      fetch('https://api.320.ink/api/b?id=BV19E411D78Q').then(res=>res.json()).then(data=>{
        dom.innerHTML = `
        <div class="bilibili_cover">
          <img src="https://s1.hdslb.com/bfs/static/player/img/play.svg" class="play_icon no-lazyload">
          <img src="${data.pic + '&h=300'}" class="no-lazyload">
          <span>:39</span>
        </div>
        <div class="bilibili_info">
          <div class="title">${data.title}</div>
          <div class="desc">${data.desc}</div>
          <div class="stat">
            <span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none" class="icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.67735 4.2798C5.98983 4.1725 7.85812 4.0625 10 4.0625C12.1421 4.0625 14.0105 4.17252 15.323 4.27983C16.2216 4.3533 16.9184 5.04049 16.9989 5.9318C17.0962 7.00837 17.1875 8.43614 17.1875 10C17.1875 11.5639 17.0962 12.9916 16.9989 14.0682C16.9184 14.9595 16.2216 15.6467 15.323 15.7202C14.0105 15.8275 12.1421 15.9375 10 15.9375C7.85812 15.9375 5.98983 15.8275 4.67735 15.7202C3.77861 15.6467 3.08174 14.9593 3.00119 14.0678C2.90388 12.9908 2.8125 11.5627 2.8125 10C2.8125 8.43727 2.90388 7.00924 3.00119 5.93221C3.08174 5.04067 3.77861 4.35327 4.67735 4.2798ZM10 2.8125C7.81674 2.8125 5.9136 2.92456 4.5755 3.03395C3.07738 3.15643 1.8921 4.31616 1.75626 5.81973C1.65651 6.92379 1.5625 8.39058 1.5625 10C1.5625 11.6094 1.65651 13.0762 1.75626 14.1803C1.8921 15.6838 3.07738 16.8436 4.5755 16.966C5.9136 17.0754 7.81674 17.1875 10 17.1875C12.1835 17.1875 14.0868 17.0754 15.4249 16.966C16.9228 16.8436 18.108 15.6841 18.2438 14.1807C18.3435 13.077 18.4375 11.6105 18.4375 10C18.4375 8.38948 18.3435 6.92296 18.2438 5.81931C18.108 4.31588 16.9228 3.15645 15.4249 3.03398C14.0868 2.92458 12.1835 2.8125 10 2.8125ZM12.1876 10.722C12.7431 10.4013 12.7431 9.59941 12.1876 9.27866L9.06133 7.47373C8.50577 7.15298 7.81133 7.55392 7.81133 8.19542V11.8053C7.81133 12.4468 8.50577 12.8477 9.06133 12.527L12.1876 10.722Z" fill="#9499A0"/></svg>${data.view}</span>
            <span><svg width="36" height="36" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" class="icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.77234 30.8573V11.7471H7.54573C5.50932 11.7471 3.85742 13.3931 3.85742 15.425V27.1794C3.85742 29.2112 5.50932 30.8573 7.54573 30.8573H9.77234ZM11.9902 30.8573V11.7054C14.9897 10.627 16.6942 7.8853 17.1055 3.33591C17.2666 1.55463 18.9633 0.814421 20.5803 1.59505C22.1847 2.36964 23.243 4.32583 23.243 6.93947C23.243 8.50265 23.0478 10.1054 22.6582 11.7471H29.7324C31.7739 11.7471 33.4289 13.402 33.4289 15.4435C33.4289 15.7416 33.3928 16.0386 33.3215 16.328L30.9883 25.7957C30.2558 28.7683 27.5894 30.8573 24.528 30.8573H11.9911H11.9902Z"></path></svg>${data.like}</span>
            <span><svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="icon" style="fill:;"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.045 25.5454C7.69377 25.5454 2.54504 20.3967 2.54504 14.0454C2.54504 7.69413 7.69377 2.54541 14.045 2.54541C20.3963 2.54541 25.545 7.69413 25.545 14.0454C25.545 17.0954 24.3334 20.0205 22.1768 22.1771C20.0201 24.3338 17.095 25.5454 14.045 25.5454ZM9.66202 6.81624H18.2761C18.825 6.81624 19.27 7.22183 19.27 7.72216C19.27 8.22248 18.825 8.62807 18.2761 8.62807H14.95V10.2903C17.989 10.4444 20.3766 12.9487 20.3855 15.9916V17.1995C20.3854 17.6997 19.9799 18.1052 19.4796 18.1052C18.9793 18.1052 18.5738 17.6997 18.5737 17.1995V15.9916C18.5667 13.9478 16.9882 12.2535 14.95 12.1022V20.5574C14.95 21.0577 14.5444 21.4633 14.0441 21.4633C13.5437 21.4633 13.1382 21.0577 13.1382 20.5574V12.1022C11.1 12.2535 9.52148 13.9478 9.51448 15.9916V17.1995C9.5144 17.6997 9.10883 18.1052 8.60856 18.1052C8.1083 18.1052 7.70273 17.6997 7.70265 17.1995V15.9916C7.71158 12.9487 10.0992 10.4444 13.1382 10.2903V8.62807H9.66202C9.11309 8.62807 8.66809 8.22248 8.66809 7.72216C8.66809 7.22183 9.11309 6.81624 9.66202 6.81624Z"></path></svg>${data.coin}</span>
          </div>
          <div class="owner">
            <span class="tip">视频</span>
            <img src="${data.face + '&h=100'}" class="no-lazyload">
            <span>${data.owner}</span>
          </div>
        </div>
        `
      })
    }
  </script>
  
<ul>
<li>考一下研</li>
</ul>
<h1 id="计算机网络"><a href="#计算机网络" class="headerlink" title="计算机网络"></a>计算机网络</h1><h2 id="Cp0-简介"><a href="#Cp0-简介" class="headerlink" title="Cp0 简介"></a>Cp0 简介</h2><p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240418220253346.png" alt="image-20240418220253346"></p>
<ul>
<li>计算机网络组成：硬件、软件、协议</li>
</ul>
<h3 id="1-1-分类"><a href="#1-1-分类" class="headerlink" title="1.1 分类"></a>1.1 分类</h3><ul>
<li>广域网（WAN）、城域网（MAN）、局域网（LAN）、个域网（PAN）<ul>
<li>MAN和LAN是以太网技术</li>
</ul>
</li>
</ul>
<h3 id="1-2-性能指标"><a href="#1-2-性能指标" class="headerlink" title="1.2 性能指标"></a>1.2 性能指标</h3><ul>
<li>速率：即数据率/数据传输率/比特率<ul>
<li>连接在计算机网络上的主机在数字信道上传输数据位数的速率</li>
</ul>
</li>
<li>带宽：表示网络中单位时间从网络某一点到另一点所能通过的“最高数据率”单位和速率一样</li>
<li><p>吞吐量：单位时间通过某个网络的数据量</p>
</li>
<li><p>时延：指数据（报文/分组/比特流）从网络（或链路）的一端传送到另一端所需的时间。</p>
<ul>
<li>发送时延：数据长度/信道带宽</li>
<li>传播时延：取决于电磁波传播速度和链路长度</li>
<li>排队时延</li>
<li>处理时延</li>
</ul>
</li>
<li><p>时延带宽积：传播时延 * 带宽</p>
<p><img src="C:\Users\H\AppData\Roaming\Typora\typora-user-images\image-20240421112251506.png" alt="image-20240421112251506"></p>
</li>
<li><p>往返RTT：从发送方发送数据开始，到发送方收到接收方的确认总共经历的时延</p>
<ul>
<li>RTT越大，在收到确认前，可以发送的数据越多 </li>
</ul>
</li>
<li><p>利用率：信道利用率和网络利用率</p>
<h3 id="1-3-分层结构"><a href="#1-3-分层结构" class="headerlink" title="1.3 分层结构"></a>1.3 分层结构</h3></li>
<li><p>实体、接口(上层使用下层服务的入口)、服务(下层对上层)、协议(对等实体数据交换建立的规则)</p>
</li>
<li><p>7层ISO/OSI分层参考模型</p>
<ul>
<li><p>应用层：FTP、SMTP、HTTP</p>
</li>
<li><p>表示层：数据格式变换、加密等</p>
</li>
<li><p>会话层：向表示层实体/用户进程提供建立连接并在连接上有序地传输数据，建立同步（SYN）</p>
</li>
<li><p>传输层：负责两个进程的通信，端到端。传输单位是报文段/用户数据报 TCP、UDP</p>
<ul>
<li>可靠传输、不可靠传输、</li>
<li>差错控制</li>
<li>流量控制</li>
<li>复用分用</li>
</ul>
</li>
<li><p>网络层：把分组从源端传到目的端，传输单位是数据报</p>
<ul>
<li>路由选择</li>
<li>流量控制</li>
<li>差错控制</li>
<li>拥塞控制</li>
</ul>
</li>
<li><p>数据链路层：将网络层传下来的数据报组装成帧，传输单位是帧</p>
<ul>
<li>成帧</li>
<li>差错控制</li>
<li>流量控制</li>
<li>访问（接入）控制</li>
</ul>
</li>
<li><p>物理层：在物理媒体上实现比特流的透明传输：100010101…转为电磁波信号</p>
<ul>
<li>定义接口特性</li>
<li>定义传输模式（单工、半双工、双工）</li>
<li>定义传输速率</li>
<li>比特同步</li>
</ul>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421122840677.png" alt="image-20240421122840677"></p>
</li>
</ul>
</li>
<li><p>4层TCP/IP参考模型</p>
<ul>
<li>应用层：HTTP、FTP、DNS</li>
<li>传输层：TCP、UDP</li>
<li>网际层：IP</li>
<li>网络接口层：</li>
</ul>
</li>
<li><p>5层参考模型</p>
<ul>
<li>应用层：支持各种网络应用、<ul>
<li>FTP、SMTP、HTTP</li>
</ul>
</li>
<li>传输层：进程-进程的数据传输<ul>
<li>TCP、UDP</li>
</ul>
</li>
<li>网络层：源主机到目的主机的数据分组路由与转发<ul>
<li>IP、ICMP、OSPF</li>
</ul>
</li>
<li>数据链路层：将网络层传下来的数据报组装成帧<ul>
<li>Ethernet、PPP</li>
</ul>
</li>
<li>物理层：比特传输</li>
</ul>
</li>
<li><p>TCP/IP 协议栈</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240422140744903.png" alt="image-20240422140744903" style="zoom: 67%;"></p>
</li>
</ul>
<h2 id="Cp1-物理层"><a href="#Cp1-物理层" class="headerlink" title="Cp1 物理层"></a>Cp1 物理层</h2><h3 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h3><ul>
<li>解决如何在连接各种计算机的传输媒体上传输数据比特流</li>
<li>主要任务：确定传输媒体接口相关特性（定义标准）</li>
</ul>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421152541900.png" alt="image-20240421152541900"></p>
<ul>
<li>数据通信三个问题<ul>
<li>单工/半双工/全双工：信道的数量不同</li>
<li>串行传输/并行传输：表示一个字符的8位二进制用一条信道发送还是多条信道<ul>
<li>串行适合远距离</li>
</ul>
</li>
<li>同步/异步传输<ul>
<li>同步以数据区块位单位传输，需要一个SYN同步字符</li>
<li>异步传输要加字符起始位和字符终止位</li>
</ul>
</li>
</ul>
</li>
<li>码元：指用一个固定时长的信号波形（数字脉冲），代表不同离散数值的基本波形，是数字通信中数字信号的计量单位，1码元可以携带多个比特的信号量<ul>
<li>二进制1码元携带1个比特，4进制携带2个，16进制携带4个</li>
</ul>
</li>
<li>速率：指数据传输速率<ul>
<li>码元传输速率</li>
<li>信息传输速率</li>
</ul>
</li>
</ul>
<h3 id="1-2-编码与调制"><a href="#1-2-编码与调制" class="headerlink" title="1.2 编码与调制"></a>1.2 编码与调制</h3><ul>
<li><p>信道：信号的传输媒介，用来表示向某个方向传送信息的介质（发送信道/接收信道）</p>
</li>
<li><p>信道上传送的信号</p>
<ul>
<li>基带信号</li>
<li>宽带信号</li>
</ul>
</li>
<li><p>编码：数据 ==&gt; 数字信号</p>
<ul>
<li>非归零编码、反向不归零编码、曼彻斯特编码、差分曼彻斯特编码</li>
</ul>
</li>
<li>调制：数据 ==&gt; 模型信号</li>
</ul>
<h3 id="1-3-数据交换方式"><a href="#1-3-数据交换方式" class="headerlink" title="1.3 数据交换方式"></a>1.3 数据交换方式</h3><ul>
<li><p>电路交换：适合低频次、大量的传输</p>
<ul>
<li><p>优点：</p>
<ul>
<li>传输时延小，实时性强</li>
<li>全双工</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>建立/释放需要时间</li>
<li>线路被通信双方独占，利用率低</li>
<li>线路分配灵活性差</li>
<li>不能检查数据</li>
</ul>
</li>
</ul>
</li>
<li><p>报文交换：由发送方、接收方及数据组成，称为报文，传输过程采用<strong>存储转发</strong>方式</p>
<ul>
<li>优点：<ul>
<li>通信前无需建立连接</li>
<li>数据以报文为单位被交换节点存储转发，通信线路可灵活分配</li>
<li>用户无需独占一条线路，线路利用率高</li>
<li>交换节点支持差错控制</li>
</ul>
</li>
<li>缺点<ul>
<li>报文不定长，不方便存储转发</li>
<li>长报文存储转发时间开销大，存储开销大</li>
<li>长报文容易出错，重传代价高</li>
</ul>
</li>
</ul>
</li>
<li><p>分组交换：将一个长报文切开分成多份(packet)，并添加头信息（源、目的地址 ）及分组号</p>
<ul>
<li>分组交换机：路由器</li>
<li>缺点：相对于初始报文，控制信息占比增加</li>
</ul>
</li>
</ul>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421160929973.png" alt="image-20240421160929973" style="zoom:67%;"></p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421103843177.png" alt="image-20240421103843177" style="zoom:67%;"></p>
<ul>
<li>虚电路交换技术：结合了数据包和电路交换方式</li>
</ul>
<h3 id="1-3-传输介质-设备"><a href="#1-3-传输介质-设备" class="headerlink" title="1.3 传输介质/设备"></a>1.3 传输介质/设备</h3><ul>
<li><p>传输介质：导向传输介质/非导向传输介质</p>
</li>
<li><p>导向传输介质</p>
<ul>
<li>双绞线</li>
<li>同轴电缆</li>
<li>光纤：很多光纤捆一起 ==&gt; 光缆</li>
</ul>
</li>
<li>非导向传输介质<ul>
<li>无线电波：信号向所有方向传播</li>
<li>微波：信号固定方向传播<ul>
<li>地面微波接力通信</li>
<li>卫星通信</li>
</ul>
</li>
<li>红外线、激光：固定方向</li>
</ul>
</li>
<li>物理层设备：中继器/集线器</li>
<li>中继器：对信号进行再生和还原，对衰减信号放大（点对点）</li>
<li>集线器：对信号进行再生方法转发，对衰减信号放大（广播）</li>
</ul>
<h2 id="Cp2-数据链路层"><a href="#Cp2-数据链路层" class="headerlink" title="Cp2 数据链路层"></a>Cp2 数据链路层</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">数据链路层--&gt; A(功能)</span><br><span class="line">A--&gt;封装成帧和透明传输</span><br><span class="line">A--&gt;差错控制</span><br><span class="line">A--&gt;流量控制</span><br><span class="line">A--&gt;可靠传输</span><br><span class="line">数据链路层--&gt; 应用</span><br><span class="line">应用--&gt;两种链路/信道</span><br><span class="line">应用--&gt;链路层设备</span><br></pre></td></tr></tbody></table></figure>
<h3 id="2-0-概述"><a href="#2-0-概述" class="headerlink" title="2.0 概述"></a>2.0 概述</h3><ul>
<li>定义与作用：在物理层上提供服务的基础上向网络层提供服务，主要作用是加强物理层传输原始比特流的功能，将物理层提供的可能出错的物理连接改造为逻辑上无差错的数据链路</li>
<li><p>功能</p>
<ul>
<li>为网络层提供服务：无确认无连接服务、有确认无连接服务、有确认有连接服务</li>
<li>链路管理</li>
<li>组帧</li>
<li>流量控制</li>
<li>差错控制（帧错、位错）</li>
</ul>
</li>
<li><p>结点：主机、路由器</p>
</li>
<li>链路：网络中两个结点之间的物理通道</li>
<li>数据链路：两个结点之间的逻辑通道</li>
<li>帧：链路层的协议数据单元，封装网络层数据报</li>
</ul>
<h3 id="2-1-封装成帧和透明传输"><a href="#2-1-封装成帧和透明传输" class="headerlink" title="2.1 封装成帧和透明传输"></a>2.1 封装成帧和透明传输</h3><ul>
<li>封装成帧：在一段数据的前后部分添加首部和尾部，构成一个帧</li>
</ul>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421163901028.png" alt="image-20240421163901028" style="zoom:67%;"></p>
<ul>
<li><p>帧同步：接收方从接收到的二进制比特流中区分处帧的起始和终止</p>
</li>
<li><p>透明传输：指不管所传数据是什么样的比特组合，都应该能在链路上传输</p>
</li>
<li><p>组帧的方法</p>
<ul>
<li><p>字符计数法：帧首部使用一个计数字段表明帧长度</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421164219005.png" alt="image-20240421164219005"></p>
</li>
<li><p>字符填充法：为了防止数据开始和结束字符被错误的判断</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421164413269.png" alt="image-20240421164413269"></p>
</li>
<li><p>零比特填充法</p>
<ul>
<li>在发送端，只要连续5个1就立即填充1个0</li>
<li>接收的时候发现连续5个1就删除1个0</li>
</ul>
</li>
<li>违规编码法</li>
</ul>
</li>
</ul>
<h3 id="2-2-差错控制"><a href="#2-2-差错控制" class="headerlink" title="2.2 差错控制"></a>2.2 差错控制</h3><ul>
<li>产生原因：<ul>
<li>全局性：本身的电气特性，信道固有的，随机存在的。解决：提高信噪比</li>
<li>局部性：外界特定的短暂原因所造成的冲击噪声。解决：利用编码技术</li>
</ul>
</li>
<li>分类：<ul>
<li>位错：1变成0，0变成1</li>
<li>帧错：发送  #[1]#[2]#[3]<ul>
<li>丢失：收到  #[1]#[3]</li>
<li>重复：收到  #[1]#[2]#[2]#[3]</li>
<li>失序：收到  #[3]#[1]#[2]</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421165102895.png" alt="image-20240421165102895" style="zoom:50%;"></p>
<ul>
<li>奇偶校验码：前n-1位1的个数是奇数还是偶数个</li>
<li><p>CRC循环冗余码：除以一个数，看余数是否相同</p>
<ul>
<li>将数据分组</li>
<li>每个组的后面都加上冗余码</li>
</ul>
</li>
<li><p>纠错编码：海明码</p>
<ul>
<li>确定校验码位数r</li>
<li>确定校验码和数据的位置</li>
<li>求出校验码的值</li>
<li>检查并纠错</li>
</ul>
</li>
</ul>
<h3 id="2-3-流量控制、可靠传输"><a href="#2-3-流量控制、可靠传输" class="headerlink" title="2.3 流量控制、可靠传输"></a>2.3 流量控制、可靠传输</h3><ul>
<li><p>流量控制方法：</p>
<ul>
<li><p>停止-等待协议（发送窗口大小 = 接收窗口大小 = 1）</p>
<ul>
<li><p>发送数据后等待接收方的ACK包后再继续发送</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421170921124.png" alt="image-20240421170921124" style="zoom: 50%;"></p>
</li>
</ul>
</li>
<li><p>滑动窗口协议</p>
<ul>
<li>后退N帧协议（发送窗口大小 &gt; 1 接收窗口大小 = 1）GBN协议</li>
<li>选择重传协议（发送窗口大小 &gt; 1 接收窗口大小 &gt; 1）SR协议</li>
</ul>
</li>
</ul>
</li>
<li><p>GBN协议</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421170501209.png" alt="image-20240421170501209" style="zoom:50%;"></p>
<ul>
<li>发送窗口组成：发完被确认、已经发送待确认、还能发送、还不能发送</li>
<li>发送方响应的三件事<ul>
<li>上层调用：上层要发送数据，发送方先检查发送窗口是否满，满了的话就返回数据给上层，暗示窗口已满，上层会等一会再发送</li>
<li>确认方式：对n好帧的确认采用累计确认，表明接收方收到n号帧及之前的全部帧</li>
<li>超时事件</li>
</ul>
</li>
<li>接收方要做的事：<ul>
<li>正确收到了n号帧，并且按序，则为n帧发送一个ACK，表示前n号帧都接收完毕</li>
<li>其余情况都丢弃帧，并为最近按序接收的帧重新发送一个ACK，表明下一个需要接收的帧<ul>
<li>收到245号帧，则ACK响应2，并丢第45号帧</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>选择重传协议：</p>
<ul>
<li><p>发送方窗口：发完确认、发完等待确认、还能发送、还不能发送</p>
</li>
<li><p>接收方窗口：希望收到但未收到、收到确认的、等待接收</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421172522401.png" alt="image-20240421172522401" style="zoom:50%;"></p>
</li>
<li><p>发送方：</p>
<ul>
<li>上层调用：类似GBN</li>
<li>收到了一个ACK后：加入帧序号在窗口中，则SR发送方标记那个帧未已接收，如果是窗口的下界，则移动窗口到当前最小未被确认的地方，然后发送新的窗口未确认的帧</li>
<li>超时事件：超时后重传一个帧</li>
</ul>
</li>
<li><p>接收方：</p>
<ul>
<li>不按序，失序的帧被缓存，并发送给发送方一个确认帧，知道所有帧被接收，将这一批帧返回给上层，然后移动窗口</li>
</ul>
</li>
<li><p>发送窗口最好等于接收窗口</p>
</li>
</ul>
</li>
</ul>
<h3 id="2-4-两种链路-信道"><a href="#2-4-两种链路-信道" class="headerlink" title="2.4 两种链路/信道"></a>2.4 两种链路/信道</h3><ul>
<li><p>点对点链路：PPP协议，常用于广域网</p>
</li>
<li><p>广播式链路：早期的总线以太网、无线局域网，常用于局域网</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421205127193.png" alt="image-20240421205127193"></p>
</li>
<li><p>介质访问控制：采取一定的措施，使得两队节点之间的通信不会发生互相干扰的情况</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240421204840402.png" alt=""></p>
</li>
<li><p>静态划分信道：信道划分介质访问控制</p>
<ul>
<li>频分多路复用 FDM：一个用户占一个频段</li>
<li>时分多路复用 TDM：交替使用</li>
<li>波分多路复用 WDM</li>
<li>码分多路复用 CDM</li>
</ul>
</li>
<li><p>动态划分信道</p>
<ul>
<li>轮询访问介质访问控制：令牌传递协议<ul>
<li>令牌：一个特殊格式的MAC控制帧，不含任何信息</li>
<li>问题：<ul>
<li>令牌开销</li>
<li>等待延迟</li>
<li>单点故障</li>
</ul>
</li>
</ul>
</li>
<li>随机访问介质访问控制<ul>
<li>ALOHA协议：（不听就说）<ul>
<li>纯ALOHA协议：不监听信道，不按时间槽发送，随机发送（吞吐量低，效率更低）</li>
<li>时隙ALOHA协议：时间分为时间片，只能在时间片开始的时候发送</li>
</ul>
</li>
<li>CSMA协议：（先听再说）在发送数据之前先检测一些总线上是否有其他计算机在发送数据，信道空闲就发送，信道忙就推迟发送<ul>
<li>CS：载波监听</li>
<li>MA：多点接入</li>
</ul>
</li>
<li>CSMA/CD协议：用于总线以太网（有线）<ul>
<li>CD：冲突检测（边发送边监听）</li>
</ul>
</li>
<li>CSMA/CA协议：用于无线局域网<ul>
<li>CA：碰撞避免</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-5-局域网-LAN"><a href="#2-5-局域网-LAN" class="headerlink" title="2.5 局域网 LAN"></a>2.5 局域网 LAN</h3><ul>
<li><p>决定局域网的要素：</p>
<ul>
<li>网络拓扑：星型、总线型、环形、树型</li>
<li>传输介质：有线（双绞线、同轴电缆、光纤），无线（电磁波）</li>
<li>介质访问控制方法：CSMA/CD、令牌总线、令牌环</li>
</ul>
</li>
<li><p>分类</p>
<ul>
<li>以太网：最广泛，使用CSMA/CD</li>
<li>令牌环网：明日黄花 </li>
<li>FDDI网：</li>
<li>ATM网</li>
<li>无线局域网（WLAN）</li>
</ul>
</li>
<li><p>以太网：是多个公司联合开发的<strong>基带总线局域网规范</strong></p>
<ul>
<li><p>速率（10Mb/s~10Gb/s）、便宜、简单</p>
</li>
<li><p>无连接：无握手过程</p>
</li>
<li>不可靠：不可对发送方的数据帧编号，接收方不想发送方确认，差错帧直接丢弃，纠错由高层负责</li>
<li><p>传输介质发展：粗同轴电缆、细同轴电缆、双绞线+集线器</p>
</li>
<li><p>适配器与MAC地址：48位二进制地址，前24未由IEEE规定（代表厂家）、后24位由厂家指定</p>
</li>
<li>以太网MAC帧：目前最常用是以太网V2格式</li>
</ul>
</li>
<li><p>无线局域网 </p>
<ul>
<li>IEEE 802.11是无线局域网通用的标准（WIFI）</li>
</ul>
</li>
<li><p>VLAN</p>
<ul>
<li>传统局域网局限<ul>
<li>缺乏流量隔离</li>
<li>管理用户不便</li>
<li>路由器成本高</li>
</ul>
</li>
<li>VLAN：虚拟局域网，将局域网内的设备划分成与物理位置无关的逻辑组的技术，每个VLAN是一个单独的广播域/不同的子网</li>
<li>VLAN实现：路由器和三层交换机<ul>
<li>VLAN表（绑定端口或者MAC地址）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-6-广域网-WAN"><a href="#2-6-广域网-WAN" class="headerlink" title="2.6 广域网 WAN"></a>2.6 广域网 WAN</h3><ul>
<li>通信子网主要使用分组交换技术，如Internet</li>
<li>PPP协议<ul>
<li>简单：对于链路层的帧，无需纠错，无需序号，无需流量控制</li>
<li>封装成帧：帧定界符</li>
<li>透明传输</li>
<li>多种网络层学医</li>
<li>多种类型链路</li>
<li>差错检测</li>
<li>检测连接状态</li>
<li>最大传送单元</li>
<li>网络层地址协商</li>
<li>数据压缩协商</li>
</ul>
</li>
</ul>
<h3 id="2-7-链路层设备"><a href="#2-7-链路层设备" class="headerlink" title="2.7 链路层设备"></a>2.7 链路层设备</h3><ul>
<li><p>网桥&amp;交换机</p>
<ul>
<li><p>网桥根据MAC帧的目的地址对帧进行过滤、转发。（收到一个帧时，不向所有的接口转发此帧，而是先检查此帧的目的MAC地址，再转发到对应接口）</p>
</li>
<li><p>分类</p>
<ul>
<li>透明网桥：”透明“指以太网上的站点并不知道所发送的帧将经过哪几个网桥（动态更新一个转发表，记录MAC地址和网桥接口的对应关系）</li>
<li>源路由网桥：在发送帧时，把详细的最佳路由信息（路由最少/时间最短）放在帧首部，</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Cp3-网络层"><a href="#Cp3-网络层" class="headerlink" title="Cp3 网络层"></a>Cp3 网络层</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">网络层 --&gt; 转发</span><br><span class="line">转发 --&gt; 硬件结构</span><br><span class="line">转发 --&gt; 协议</span><br><span class="line">转发 --&gt; IPv4分组</span><br><span class="line">转发 --&gt; 网络层编址</span><br><span class="line">转发 --&gt; 网络地址转换NAT</span><br><span class="line">转发 --&gt; IPv6</span><br><span class="line">转发 --&gt; 移动IP</span><br><span class="line">网络层 --&gt; 路由选择</span><br><span class="line">路由选择 --&gt; 路由选择算法</span><br><span class="line">路由选择 --&gt; 路由选择协议</span><br><span class="line">路由选择 --&gt; IP组播</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><p>功能</p>
<ul>
<li>路由选择与分组转发</li>
<li><p>异构网络互联 </p>
</li>
<li><p>拥塞控制</p>
</li>
</ul>
</li>
</ul>
<h3 id="3-1-路由算法"><a href="#3-1-路由算法" class="headerlink" title="3.1 路由算法"></a>3.1 路由算法</h3><ul>
<li>路由表/转发表：目的网络IP地址、子网掩码、下一IP地址、接口 </li>
<li>分类<ul>
<li>静态：手动配置</li>
<li>动态：</li>
</ul>
</li>
</ul>
<h3 id="3-2-IP数据报"><a href="#3-2-IP数据报" class="headerlink" title="3.2 IP数据报"></a>3.2 IP数据报</h3><ul>
<li><p>组成</p>
<ul>
<li>首部：分为固定部分（20字节或160位）和可变部分</li>
<li>数据部分（TCP/UDP段）</li>
</ul>
</li>
<li><p>首部</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240422141810076.png" alt="image-20240422141810076"></p>
<ul>
<li><p>版本(4bit)：IPv4或者IPv6</p>
</li>
<li><p>首部长度(4bit)：至少是20Byte(固定部分就20B)，所以是0101-1111</p>
</li>
<li><p>区分服务(8bit)：期望获得哪种类型服务</p>
</li>
<li><p>总长度(16bit)：首部+数据大小，因为有16bit，所以上限是2^16-1=26635Byte，实际不会这么大，会分片</p>
</li>
<li><p>标识(16bit)：同一个数据报分片使用同一标识</p>
</li>
<li><p>标志(3bit)：只有2bit有意义</p>
<ul>
<li>中间位DF=1 禁止分片；DF=0 允许分片</li>
<li>最低位MF=1 后面还有分片 MF=0 最后一片 </li>
</ul>
</li>
<li><p>片偏移(13bit)：改分片在原来数据报的位置</p>
</li>
<li><p>生存时间TTL(8bit)：每经过一个路由器就减1，变0就丢弃</p>
</li>
<li><p>协议(4bit)：数据部分使用的协议</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240422142213527.png" alt="image-20240422142213527"></p>
</li>
<li><p>首部检验和(8bit)：只检验首部</p>
</li>
<li>源地址、目的地址(32bit)：IPv4/IPv6地址</li>
<li>填充字段：大小不固定，全是0，让首部大小为4整数倍</li>
</ul>
</li>
</ul>
<h3 id="3-3-IPv4地址"><a href="#3-3-IPv4地址" class="headerlink" title="3.3 IPv4地址"></a>3.3 IPv4地址</h3><ul>
<li>32位/4字节，标识路由器主机的接口</li>
<li><p>网络号+主机号</p>
</li>
<li><p>分类的IP地址</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240422144401519.png" alt="image-20240422144401519"></p>
</li>
<li><p>IPv6</p>
<ul>
<li>CIDR NAT治标不治本</li>
<li>十六进制</li>
</ul>
</li>
</ul>
<h3 id="3-4-网络地址转换NAT"><a href="#3-4-网络地址转换NAT" class="headerlink" title="3.4 网络地址转换NAT"></a>3.4 网络地址转换NAT</h3><ul>
<li>在专用网连接到英特网上的路由器上安装NAT软件，安装了NAT软件的路由器叫NAT路由器，它至少有一个有效的外部全球IP地址</li>
</ul>
<h3 id="3-5-子网划分"><a href="#3-5-子网划分" class="headerlink" title="3.5 子网划分"></a>3.5 子网划分</h3><p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240422145124633.png" alt="image-20240422145124633" style="zoom: 67%;"></p>
<ul>
<li>子网掩码：网络号全为1，主机号全为0</li>
</ul>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240422145327188.png" alt="image-20240422145327188" style="zoom: 50%;"></p>
<ul>
<li>eg：IP地址是141.14.72.24 子网掩码是255.255.192.0，则网络地址是：141.14.64.0<ul>
<li>192对应11000000，72对应01001000，所以网络地址第三部分是01000000，也就是64</li>
</ul>
</li>
</ul>
<h3 id="3-5-无分类编制CIDR"><a href="#3-5-无分类编制CIDR" class="headerlink" title="3.5 无分类编制CIDR"></a>3.5 无分类编制CIDR</h3><ul>
<li>IP地址后加上<code>/</code>，然后写上网络前缀（任意长度）。如128.14.32.0/20（前20位是网络位）</li>
</ul>
<h3 id="3-6-协议"><a href="#3-6-协议" class="headerlink" title="3.6 协议"></a>3.6 协议</h3><ul>
<li><p><strong>ARP协议</strong>：由IP地址获取MAC地址</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240422151730682.png" alt="image-20240422151730682" style="zoom:67%;"></p>
<ul>
<li>ARP高速缓存：IP地址和MAC地址的映射</li>
<li>过程：<ul>
<li>检查ARP高速缓存，有则写入MAC帧</li>
<li>没有则用目的MAC地址位FF-FF-FF-FF-FF-FF的帧封装并广播ARP请求</li>
<li>同一局域网所有主机收到请求，目的主机会给源主机单播一个ARP响应分组</li>
<li>源主机收到后写入ARP高速缓</li>
</ul>
</li>
<li><p>ARP协议四种典型情况</p>
<ul>
<li>主机A ==&gt; 本网络上主机B：用ARP找到主机B的MAC地址</li>
<li>主机A ==&gt; 另一网络上主机B：用ARP找到本网络上一个路由器（网关）的MAC地址</li>
<li>路由器 ==&gt; 本网络上主机A：用ARP找到主机A的MAC地址</li>
<li>路由器 ==&gt; 另一个网络上的主机B：用ARP找到本网络上一个路由器（网关）的MAC地址</li>
</ul>
</li>
<li><p>例子：主机A发送IP数据报给主机B，经过了5个路由器，这个过程使用了6次ARP协议</p>
</li>
</ul>
</li>
<li><p><strong>DHCP协议</strong>：解决主机获取IP地址的问题</p>
<ul>
<li>dhcp协议是应用层协议，基于UDP</li>
<li>主机可以从服务器动态获取IP地址、子网掩码、默认网关、DNS服务器名称与IP地址，允许地址重用</li>
<li>过程<ul>
<li>主机广播DHCP发现报文（有没有DHCP服务器）</li>
<li>DHCP服务器广播DHCP提供报文（有）</li>
<li>主机广播DHCP请求报文（我用了你给我的IP地址了）</li>
<li>DHCP服务器广播DHCP确认报文（好的）</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>ICMP协议</strong>：差错报告</p>
<ul>
<li>ICMP报文：在IP数据报的数据部分</li>
</ul>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240422153505396.png" alt="image-20240422153505396"></p>
<ul>
<li>ICMP报文类型<ul>
<li>ICMP差错报文：终点不可达、源点抑制、时间超过、参数问题、改变路由</li>
</ul>
</li>
<li>例子<ul>
<li>PING</li>
<li>Traceroute：跟踪一个分组从源点到终点</li>
</ul>
</li>
</ul>
</li>
<li><p>路由选择协议</p>
<ul>
<li>内部网关协议：RIP、OSPF</li>
<li>外部网关协议：BGP</li>
</ul>
</li>
</ul>
<h3 id="3-7-IP组播"><a href="#3-7-IP组播" class="headerlink" title="3.7 IP组播"></a>3.7 IP组播</h3><ul>
<li>单播：点对点</li>
<li>广播：点对多</li>
<li><p>组播：给特定组的用户发送数据，也是点对多</p>
</li>
<li><p>IP组播地址：让源设备能够发送给一组设备（一群共同需求主机的相同标识）</p>
<ul>
<li>224.0.0.0~239.255.255.255（D类地址）</li>
</ul>
</li>
<li>特点<ul>
<li>用的UDP</li>
<li>对组播数据包不产生ICMP差错报文</li>
<li>并非所有D类地址都可以作为组播地址</li>
</ul>
</li>
<li>硬件组播：MAC地址</li>
<li>IGMP协议和组播路由选择协议</li>
</ul>
<h3 id="3-8-网络层设备"><a href="#3-8-网络层设备" class="headerlink" title="3.8 网络层设备"></a>3.8 网络层设备</h3><ul>
<li><p>路由器：具有多个输入输出端口的专用计算机，任务是分组转发</p>
<ul>
<li>路由选择：根据所顶的路由选择协议构造路由表，并动态更新维护</li>
<li>分组转发：根据转发表对分组进行转发</li>
<li>路由器输入端口处理</li>
</ul>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240423154923646.png" alt="image-20240423154923646" style="zoom:50%;"></p>
<ul>
<li><p>输出端口处理</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240423154947452.png" alt="image-20240423154947452" style="zoom:50%;"></p>
</li>
</ul>
</li>
<li><p>三层设备区别</p>
<ul>
<li>路由器：可以互联不同网络层的网段</li>
<li>网桥：可以互联物理层和数据链路层的不同网段</li>
<li>集线器：不能互联物理层的不同网段</li>
</ul>
</li>
</ul>
<h2 id="Cp4-传输层"><a href="#Cp4-传输层" class="headerlink" title="Cp4 传输层"></a>Cp4 传输层</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">传输层 --&gt; TCP</span><br><span class="line">TCP --&gt; 可靠传输</span><br><span class="line">TCP --&gt; 流量控制</span><br><span class="line">TCP --&gt; 拥塞控制</span><br><span class="line">传输层 --&gt; UDP</span><br></pre></td></tr></tbody></table></figure>
<h3 id="4-1-概述"><a href="#4-1-概述" class="headerlink" title="4.1 概述"></a>4.1 概述</h3><ul>
<li><p>只有主机才有的层次，为应用层提供服务，使用网络层的服务</p>
</li>
<li><p>功能</p>
<ul>
<li>提供进程和进程之间的逻辑通信</li>
<li>复用和分用</li>
</ul>
</li>
<li><p>复用：应用层所有的应用进程都可以通过传输层再传输到网络层</p>
</li>
<li><p>分用：传输层从网络层收到数据后交付指明的应用进程</p>
</li>
<li><p>端口号：长度为16bit，范围0~65536</p>
<ul>
<li><p>服务端使用</p>
<ul>
<li><p>熟知端口号，给TCP/IP最重要的一些应用程序，让所有用户都知道。0~1023</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240423171028770.png" alt="image-20240423171028770"></p>
</li>
<li><p>登记端口号，1024~49151</p>
</li>
</ul>
</li>
<li><p>客户端使用：49152~65536</p>
</li>
</ul>
</li>
<li><p>套接字：主机号+端口</p>
</li>
<li><p>两个协议：UDP和TCP</p>
</li>
</ul>
<h3 id="4-2-UDP"><a href="#4-2-UDP" class="headerlink" title="4.2 UDP"></a>4.2 UDP</h3><ul>
<li><p>在IP数据服务上增加了<strong>复用分用</strong>和<strong>差错检测</strong>的功能</p>
</li>
<li><p>特点</p>
<ul>
<li><p>无连接</p>
</li>
<li><p>连接不可靠</p>
</li>
<li><p>面向报文，适合一次性传输少量数据的网络应用（应用层给多长的报文，UDP就照样发送）</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240423171214541.png" alt="image-20240423171214541" style="zoom:50%;"></p>
</li>
<li><p>UDP无拥塞控制，适合实时应用</p>
</li>
<li><p>首部开销小，8Byte</p>
</li>
</ul>
</li>
<li><p>UDP首部：共8Byte</p>
<ul>
<li>16bit源端口号 + 16bit源目的号 + 16bitUDP长度 + 16bit校验和</li>
</ul>
</li>
</ul>
<h3 id="4-3-TCP"><a href="#4-3-TCP" class="headerlink" title="4.3 TCP"></a>4.3 TCP</h3><ul>
<li><p>特点</p>
<ul>
<li><p>面向连接</p>
</li>
<li><p>点对点</p>
</li>
<li><p>连接可靠</p>
</li>
<li><p>提供全双工通信（发送缓存、接收缓存）</p>
</li>
<li><p>面向字节流</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240423172055897.png" alt="image-20240423172055897"></p>
</li>
</ul>
</li>
<li><p>TCP首部：20Byte</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240423172112523.png" alt="image-20240423172112523" style="zoom:67%;"></p>
<ul>
<li>序号（sequence number）：标识本报文段所发送数据的第一个字节的序号</li>
<li>确认号（acknowledgement number）：期望收到对方下一个报文段的第一个数据字节序号，只有ACK为1的时候才生效</li>
<li>数据偏移：TCP报文段数据起始举例TCP报文段起始有多远</li>
<li>6个控制位<ul>
<li>URG：紧急位，=1时可以插队</li>
<li>ACK：确认位，连接后置为1</li>
<li>PSH：推送位，=1时，接收方尽快交付接收应用进程，不再等到缓存填满再向上交付</li>
<li>RST：复位，=1时，表明TCP连接中出现严重差错，必须释放连接再重新建立连接 </li>
<li>SYN：同步位，=1时表明是一个连接请求/连接接收报文</li>
<li>FIN：终止位，=1时候表明此报文发送方数据已发送完，要求释放连接</li>
</ul>
</li>
<li>窗口：发送方发送窗口的大小，用来给接收方来调整接收窗口大小</li>
</ul>
</li>
<li><p>TCP连接管理</p>
<ul>
<li>建立连接<ul>
<li>客户端发送连接请求报文段，无应用层数据<ul>
<li>SYN=1，seq=x，seq是序号</li>
</ul>
</li>
<li>服务端为改TCP连接分配缓存和变量，并给客户端返回确认报文，无应用层数据<ul>
<li>SYN=1，ACK=1，seq=y，ack=x+1，ack是确认号</li>
</ul>
</li>
<li>客户端为该TCP连接分配缓存和变量，并给客户端发送确认，可以携带数据<ul>
<li>SYN=0，ACK=1，seq=x+1,ack=y+1</li>
</ul>
</li>
</ul>
</li>
<li>数据传送</li>
<li>连接释放<ul>
<li>客户端发送连接释放报文段<ul>
<li>FIN=1，seq=u</li>
</ul>
</li>
<li>服务器回送一个确认报文段，客户端==&gt;服务器方向连接释放，半关闭状态<ul>
<li>ACK=1，seq=v，ack=u+1</li>
</ul>
</li>
<li>服务器发送完数据，发出连接释放报文段<ul>
<li>FIN=1，ACK=1，seq=w，ack=u+1</li>
</ul>
</li>
<li>客户端回送一个确认报文段，再等待时间计时器设置的2MSL（最长报文段寿命）后，连接彻底关闭<ul>
<li>ACK=1，seq=u+1，ack=w+1</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>SYN洪泛攻击</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240423173844705.png" alt="image-20240423173844705"></p>
</li>
<li><p>TCP可靠传输</p>
<ul>
<li>校验：与UDP一样，增加伪首部</li>
<li>序号：一个报文段第一个字节的序号</li>
<li>确认：累计确认机制</li>
<li>重传：超时重传</li>
</ul>
</li>
<li>TCP流量控制<ul>
<li>滑动窗口，通过设置报文段中的窗口字段来实现动态控制</li>
</ul>
</li>
<li>TCP拥塞控制<ul>
<li>慢开始</li>
<li>拥塞避免</li>
<li>快重传</li>
<li>快恢复</li>
</ul>
</li>
</ul>
<h2 id="Cp5-网络层"><a href="#Cp5-网络层" class="headerlink" title="Cp5 网络层"></a>Cp5 网络层</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">应用层 --&gt; 模型</span><br><span class="line">模型 --&gt; C/S</span><br><span class="line">模型 --&gt; P2P</span><br><span class="line">应用层 --&gt; 应用程序相关</span><br><span class="line">应用程序相关 --&gt; DNS</span><br><span class="line">应用程序相关 --&gt; 文件传输FTP</span><br><span class="line">应用程序相关 --&gt; 万维网WWW</span><br><span class="line">应用程序相关 --&gt; 电子邮件</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>应用层：对应用程序的通信提供服务<ul>
<li>应用程序交换的报文类型：请求or响应</li>
<li>报文的用法，如报文中各个字段的详细描述</li>
<li>字段的语义</li>
<li>进程何时及如何发送报文，以及如何响应报文</li>
</ul>
</li>
<li>功能<ul>
<li>文件传输、访问和管理：FTP</li>
<li>电子邮件：SMTP、POP3</li>
<li>虚拟终端 ：HTTP</li>
<li>查询服务和远程作业登录：DNS</li>
</ul>
</li>
</ul>
<h3 id="5-1-网络应用模型"><a href="#5-1-网络应用模型" class="headerlink" title="5.1 网络应用模型"></a>5.1 网络应用模型</h3><ul>
<li><p>C/S模型</p>
<ul>
<li>服务器：提供服务<ul>
<li>永久提供服务</li>
<li>永久性的访问地址/域名</li>
</ul>
</li>
<li>客户端：请求计算服务的主机<ul>
<li>与服务器通信</li>
<li>间歇性接入网络</li>
<li>可能是动态IP地址</li>
<li>不与其他客户机直接通信</li>
</ul>
</li>
</ul>
</li>
<li><p>P2P模型：没有服务器</p>
<ul>
<li><p>每个主机既可以提供服务，也可以请求服务</p>
</li>
<li><p>节点可能动态IP</p>
</li>
<li>网络健壮性好</li>
</ul>
</li>
</ul>
<h3 id="5-2-DNS系统"><a href="#5-2-DNS系统" class="headerlink" title="5.2 DNS系统"></a>5.2 DNS系统</h3><ul>
<li>域名到IP地址的转换</li>
<li>域名：n级别域名.n-1级域名….二级域名.顶级域名<ul>
<li>顶级域名：com cn org gov等</li>
<li>二级域名：com edu gov等</li>
</ul>
</li>
<li>域名解析过程<ul>
<li>递归查询：一步一步向上查询（A查B，B查不到然后B去查C）</li>
<li>迭代查询：A查B，B查不到返回一个上层服务器地址C，A再去查C</li>
</ul>
</li>
<li>高速缓存</li>
</ul>
<h3 id="5-3-文件传输协议"><a href="#5-3-文件传输协议" class="headerlink" title="5.3 文件传输协议"></a>5.3 文件传输协议</h3><ul>
<li>FTP：提供不同类型的主机之间的文件传输，基于C/S的协议</li>
<li>FTP工作原理<ul>
<li>使用TCP实现可靠传输</li>
<li>控制连接，数据连接</li>
</ul>
</li>
</ul>
<h3 id="5-4-电子邮件"><a href="#5-4-电子邮件" class="headerlink" title="5.4 电子邮件"></a>5.4 电子邮件</h3><ul>
<li>信封</li>
<li>内容</li>
<li>组成结构<ul>
<li>用户代理：电子邮件客户端软件（与邮件服务器SMTP，TCP连接）</li>
<li>邮件服务器：发送方邮件服务器（与邮件服务器SMTP，TCP连接）</li>
<li>邮件服务器：接收方邮件服务器（与邮件服务器POP3，TCP连接）</li>
<li>用户代理：收件人用户代理</li>
</ul>
</li>
<li>协议：<ul>
<li>发送使用SMTP</li>
<li>接收使用POP3</li>
</ul>
</li>
<li>SMTP协议<ul>
<li>规定了两个相互通信的SMTP进程之间如何交换信息</li>
<li>基于TCP连接，端口号25</li>
</ul>
</li>
<li>MIME协议：对SMTP的扩充，使之可以满足音频、图像、视频等传输</li>
<li>POP3协议<ul>
<li>基于TCP连接，端口号110</li>
</ul>
</li>
<li>IMAP协议<ul>
<li>比POP协议复杂</li>
</ul>
</li>
</ul>
<h3 id="5-5-万维网和HTTP"><a href="#5-5-万维网和HTTP" class="headerlink" title="5.5 万维网和HTTP"></a>5.5 万维网和HTTP</h3><ul>
<li><p>URL一般形式：<code>协议://主机:端口/路径</code></p>
</li>
<li><p>HTTP</p>
<ul>
<li>建立TCP连接</li>
<li>HTTP请求报文</li>
<li>HTTP响应报文</li>
<li>释放TCP连接</li>
</ul>
</li>
<li>用户输入URL过程<ul>
<li>浏览器分析URL</li>
<li>浏览器向DNS请求解析IP地址</li>
<li>DNS解析处IP地址</li>
<li>浏览器与服务器建立TCP连接</li>
<li>浏览器发出取文件命令</li>
<li>服务器响应</li>
<li>释放TCP连接</li>
<li>浏览器显示</li>
</ul>
</li>
<li><p>HTTP特点</p>
<ul>
<li>无状态</li>
<li>无连接（TCP是传输层的连接）</li>
</ul>
</li>
<li><p>HTTP报文结构：因为是面向文本的，所以报文中每个字段都是一些ASCII码串</p>
<p><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/image-20240428104302925.png" alt="image-20240428104302925" style="zoom:67%;"></p>
</li>
</ul>
<link rel="stylesheet" href="https://cdn1.tianli0.top/gh/zhheo/Post-Abstract-AI@0.15.2/tianli_gpt.css">

<script>
let tianliGPT_postSelector = '#post #article-container';
let tianliGPT_key = 'c9b7741d290063ab872e';
</script>
<script src="https://cdn1.tianli0.top/gh/zhheo/Post-Abstract-AI@0.15.2/tianli_gpt.js"></script>



</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://yileman.github.io">myl</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://yileman.github.io/posts/28758.html">http://yileman.github.io/posts/28758.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yileman.github.io" target="_blank">myl's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%9F%BA%E7%A1%80/">基础</a></div><div class="post_share"><div class="social-share" data-image="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/cover/article_cover19.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer=""></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/54082.html" title="秋招八股"><img class="cover" src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/cover/article_cover2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">秋招八股</div></div></a></div><div class="next-post pull-right"><a href="/posts/1079.html" title="操作系统"><img class="cover" src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/cover/article_cover20.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">操作系统</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/1079.html" title="操作系统"><img class="cover" src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/cover/article_cover20.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-08</div><div class="title">操作系统</div></div></a></div><div><a href="/posts/54082.html" title="秋招八股"><img class="cover" src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/TyporaImg/cover/article_cover2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-12</div><div class="title">秋招八股</div></div></a></div></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://myl-mdimg.oss-cn-beijing.aliyuncs.com/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="author-info__name">myl</div><div class="author-info__description">后端学习</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">23</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yileman"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">写写记记</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C"><span class="toc-number">1.</span> <span class="toc-text">计算机网络</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Cp0-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text">Cp0 简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2 性能指标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E5%88%86%E5%B1%82%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.3 分层结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cp1-%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">1.2.</span> <span class="toc-text">Cp1 物理层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%A6%82%E8%BF%B0"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.1 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E7%BC%96%E7%A0%81%E4%B8%8E%E8%B0%83%E5%88%B6"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2 编码与调制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.3 数据交换方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E4%BC%A0%E8%BE%93%E4%BB%8B%E8%B4%A8-%E8%AE%BE%E5%A4%87"><span class="toc-number">1.2.4.</span> <span class="toc-text">1.3 传输介质/设备</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cp2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">1.3.</span> <span class="toc-text">Cp2 数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-0-%E6%A6%82%E8%BF%B0"><span class="toc-number">1.3.1.</span> <span class="toc-text">2.0 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7%E5%92%8C%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.1 封装成帧和透明传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6"><span class="toc-number">1.3.3.</span> <span class="toc-text">2.2 差错控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E3%80%81%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93"><span class="toc-number">1.3.4.</span> <span class="toc-text">2.3 流量控制、可靠传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E4%B8%A4%E7%A7%8D%E9%93%BE%E8%B7%AF-%E4%BF%A1%E9%81%93"><span class="toc-number">1.3.5.</span> <span class="toc-text">2.4 两种链路/信道</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E5%B1%80%E5%9F%9F%E7%BD%91-LAN"><span class="toc-number">1.3.6.</span> <span class="toc-text">2.5 局域网 LAN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E5%B9%BF%E5%9F%9F%E7%BD%91-WAN"><span class="toc-number">1.3.7.</span> <span class="toc-text">2.6 广域网 WAN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-%E9%93%BE%E8%B7%AF%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="toc-number">1.3.8.</span> <span class="toc-text">2.7 链路层设备</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cp3-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">1.4.</span> <span class="toc-text">Cp3 网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95"><span class="toc-number">1.4.1.</span> <span class="toc-text">3.1 路由算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-IP%E6%95%B0%E6%8D%AE%E6%8A%A5"><span class="toc-number">1.4.2.</span> <span class="toc-text">3.2 IP数据报</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-IPv4%E5%9C%B0%E5%9D%80"><span class="toc-number">1.4.3.</span> <span class="toc-text">3.3 IPv4地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2NAT"><span class="toc-number">1.4.4.</span> <span class="toc-text">3.4 网络地址转换NAT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86"><span class="toc-number">1.4.5.</span> <span class="toc-text">3.5 子网划分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E6%97%A0%E5%88%86%E7%B1%BB%E7%BC%96%E5%88%B6CIDR"><span class="toc-number">1.4.6.</span> <span class="toc-text">3.5 无分类编制CIDR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.4.7.</span> <span class="toc-text">3.6 协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-IP%E7%BB%84%E6%92%AD"><span class="toc-number">1.4.8.</span> <span class="toc-text">3.7 IP组播</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8-%E7%BD%91%E7%BB%9C%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="toc-number">1.4.9.</span> <span class="toc-text">3.8 网络层设备</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cp4-%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="toc-number">1.5.</span> <span class="toc-text">Cp4 传输层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E6%A6%82%E8%BF%B0"><span class="toc-number">1.5.1.</span> <span class="toc-text">4.1 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-UDP"><span class="toc-number">1.5.2.</span> <span class="toc-text">4.2 UDP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-TCP"><span class="toc-number">1.5.3.</span> <span class="toc-text">4.3 TCP</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cp5-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">1.6.</span> <span class="toc-text">Cp5 网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.6.1.</span> <span class="toc-text">5.1 网络应用模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-DNS%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.6.2.</span> <span class="toc-text">5.2 DNS系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.6.3.</span> <span class="toc-text">5.3 文件传输协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="toc-number">1.6.4.</span> <span class="toc-text">5.4 电子邮件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%B8%87%E7%BB%B4%E7%BD%91%E5%92%8CHTTP"><span class="toc-number">1.6.5.</span> <span class="toc-text">5.5 万维网和HTTP</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">©2024 By myl</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://comments.manyile.top/',
      region: 'ap-shanghai',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://comments.manyile.top/',
      region: 'ap-shanghai',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script type="text/javascript" src="https://unpkg.zhimg.com/jquery@latest/dist/jquery.min.js"></script><script data-pjax="" type="text/javascript" src="/js/nav.js"></script><div class="aplayer no-destroy" data-id="2664875269" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listfolded="false" data-order="random" data-preload="none" data-autoplay="false" muted=""></div><script data-pjax="" type="text/javascript" src="/js/randomPaper.js"></script><script type="text/javascript" src="/js/rightMenu.js"></script><script>let tianliGPT_postSelector = '\#post \#article-container';let tianliGPT_key = 'c9b7741d290063ab872e';</script><script src="https://cdn1.tianli0.top/gh/zhheo/Post-Abstract-AI@0.15.2/tianli_gpt.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="iconfont icon-baidu"></i><span>百度搜索</span></a><a class="rightMenu-item" href="javascript:rmf.searchinThisPage();"><i class="fas fa-search"></i><span>站内搜索</span></a><a class="rightMenu-item" href="#post-comment" onclick="rmf.yinyong()"><i class="fa-solid fa-message"></i><span>引用文本评论</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>空降评论</span></a><a class="rightMenu-item" href="javascript:switchCommentBarrage()"><i class="iconfont icon-danmu"></i><span>开/关评论弹幕</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.click()"><i class="fa fa-arrows-alt"></i><span>全屏显示</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>随便逛逛</span></a><a class="rightMenu-item" href="javascript:rmf.switchDarkMode();"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="javascript:rmf.switchReadMode();"><i class="fa fa-book"></i><span>阅读模式</span></a><a class="rightMenu-item" href="javascript:fullScreen();"><i class="fas fa-expand"></i><span>进入全屏</span></a></div></div><!-- hexo injector body_end start --><script data-pjax="">function electric_clock_injector_config(){
                var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
                var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img id="card-clock-loading" src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-clock/clock/images/weather/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading" class="entered loading"></div></div></div></div></div>';
                console.log('已挂载electric_clock')
                // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",item_html) // 有报错，但不影响使用(支持pjax跳转)
            }if( document.getElementsByClassName('sticky_layout')[0] && (location.pathname ==='all'|| 'all' ==='all')){

            electric_clock_injector_config()
        } </script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax="" src="https://cdn.jsdelivr.net/gh/Zfour/hexo-electric-clock@1.0.6/clock.js"></script><script async="" src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>